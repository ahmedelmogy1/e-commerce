import{a as x}from"./chunk-XKLR2FGI.js";import{a as C}from"./chunk-UQV3BW2P.js";import{Bb as r,Cb as w,Db as l,Ib as E,Ja as y,Jb as P,Oa as a,T as b,Y as u,Z as g,aa as S,cb as v,eb as _,ib as h,jb as s,kb as p,lb as f,lc as M,mb as e,nb as t,ob as c,ub as O,vc as I}from"./chunk-ZE6Q3F45.js";var k=(()=>{class i{constructor(n,o){this._HttpClient=n,this._CartService=o}getUserOrders(){return this._HttpClient.get(`${C.baseUrl}/api/v1/orders/user/${this._CartService.cartOwnerId}`)}getAllOrders(){return this._HttpClient.get(`${C.baseUrl}/api/v1/orders`)}static{this.\u0275fac=function(o){return new(o||i)(u(I),u(x))}}static{this.\u0275prov=b({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var j=()=>[1,2,3,4,5];function T(i,d){i&1&&r(0,"\u2714")}function $(i,d){i&1&&r(0,"\u2716")}function U(i,d){i&1&&c(0,"i",20)}function D(i,d){i&1&&c(0,"i",21)}function Y(i,d){if(i&1&&(e(0,"div",15)(1,"div",16)(2,"div",17)(3,"h5",18),r(4),t(),e(5,"div",19),p(6,U,1,0,"i",20,s),v(8,D,1,0,"i",21),e(9,"span",22),r(10),t()(),e(11,"p",23),r(12),t(),e(13,"span",24),r(14),t()()(),e(15,"div",25),c(16,"img",26),t()()),i&2){let n=d.$implicit;a(4),l(" ",n.product.title," "),a(2),f(P(6,j).slice(0,n.product.ratingsAverage)),a(2),h(8,n.product.ratingsAverage%1!==0?8:-1),a(2),l("(",n.product.ratingsQuantity,")"),a(2),l("",n.price," EGP"),a(2),l("count: ",n.count,""),a(2),_("src",n.product.imageCover,y)}}function H(i,d){if(i&1&&(e(0,"div",1)(1,"h2",2),r(2),t(),e(3,"h1",3),r(4),t(),e(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),r(9,"\u2714"),t(),e(10,"div",8)(11,"h5"),r(12,"Ordered"),t(),e(13,"p",9),r(14,"Your order has been placed successfully."),t()()(),e(15,"div",6)(16,"div",7),r(17,"\u2714"),t(),e(18,"div",8)(19,"h5"),r(20,"Confirmed"),t(),e(21,"p",9),r(22,"Your order has been confirmed."),t()()(),e(23,"div",10)(24,"div",7),c(25,"i",11),t(),e(26,"div",8)(27,"h5"),r(28,"Out for Delivery"),t(),e(29,"p",9),r(30,"Your order is on its way."),t()()(),e(31,"div",12)(32,"div",7),r(33,"\u2716"),t(),e(34,"div",8)(35,"h5"),r(36,"Delivered"),t(),e(37,"p",9),r(38,"Delivery has not been completed yet."),t()()(),e(39,"div",13)(40,"div",7),v(41,T,1,0)(42,$,1,0),t(),e(43,"div",8)(44,"h5"),r(45,"Paid"),t(),e(46,"p",9),r(47,"Payment has not been received yet."),t()()()(),e(48,"div",14),p(49,Y,17,7,"div",15,s),t()()()),i&2){let n=d.$implicit,o=d.$index,m=O();a(2),w(o+1),a(2),l("Orders # ",n.id," "),a(35),_("ngClass",m.iconStatePaid[o]?"completed":"pending"),a(2),h(41,m.iconStatePaid[o]?41:42),a(8),f(n.cartItems)}}var K=(()=>{class i{constructor(){this._OrdersService=g(k),this._CartService=g(x),this.orders=[],this.iconStatePaid=[]}ngOnInit(){this._CartService.getLoggedUserCart().subscribe({next:n=>{this.cartOwner=n}}),this._OrdersService.getUserOrders().subscribe({next:n=>{this.orders=n;for(let o=0;o<n.length;o++)this.iconStatePaid.push(n[o].isPaid);return n},error:n=>{}})}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=S({type:i,selectors:[["app-orders"]],standalone:!0,features:[E],decls:3,vars:0,consts:[[1,"my-4"],[1,"container-fluid","container-md","py-5","bg-main-light","px-5","rounded","rounded-4","my-5","border","border-2"],[1,"text-center","fw-bolder","w-fit","d-block","mx-auto","rounded","rounded-3","px-3","py-2","bg-main","text-white"],[1,"text-center","display-6","my-4","fw-bold","text-main"],[1,"row"],[1,"timeline","col-12","col-md-6","d-flex","justify-content-start","align-items-center","align-content-center","flex-wrap"],[1,"timeline-step","completed","w-100"],[1,"timeline-circle"],[1,"timeline-text"],[1,"text-muted","small"],[1,"timeline-step","in-progress","w-100"],[1,"fas","fa-truck"],[1,"timeline-step","pending","w-100"],[1,"timeline-step","w-100",3,"ngClass"],[1,"col-12","col-md-6"],[1,"row","my-2","border","border-2","border-secondary","p-2","rounded","rounded-4","cardOrder"],[1,"col-12","col-sm-9","p-0","d-flex","justify-content-center","align-items-center"],[1,"card-body","text-center","text-md-start"],[1,"card-title","fw-bold","fs-6"],[1,"text-warning","small"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star-half-stroke"],[1,"text-muted"],[1,"card-text","text-dark","fs-5","fw-bold","mb-0"],[1,"fs-5","fw-bolder"],[1,"col-12","col-sm-3","p-0"],["height","100px","alt","",1,"imgS","d-block","mx-auto","rounded","rounded-2","border","border-2","border-secondary",3,"src"]],template:function(o,m){o&1&&(e(0,"section",0),p(1,H,51,4,"div",1,s),t()),o&2&&(a(),f(m.orders))},dependencies:[M],styles:[".timeline[_ngcontent-%COMP%]{padding:20px 0}.timeline-step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.timeline-circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;color:#fff;margin-right:20px;box-shadow:0 4px 6px #0000001a}.timeline-text[_ngcontent-%COMP%]{flex-grow:1;border-left:4px solid #ddd;padding-left:20px;width:fit-content}.completed[_ngcontent-%COMP%]   .timeline-circle[_ngcontent-%COMP%]{background-color:#198754}.in-progress[_ngcontent-%COMP%]   .timeline-circle[_ngcontent-%COMP%]{background-color:#ffc107;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.pending[_ngcontent-%COMP%]   .timeline-circle[_ngcontent-%COMP%]{background-color:#dc3545}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.imgS[_ngcontent-%COMP%]{object-fit:contain;display:inline-block;margin:0 auto;height:100px}.w-fit[_ngcontent-%COMP%]{width:fit-content}"]})}}return i})();export{K as OrdersComponent};
