import{a as B}from"./chunk-KQ54RNAK.js";import{a as I,b as _,c as L,d as V,e as j,f as w,h as $,j as O,k as U,n as z}from"./chunk-SQULTQFB.js";import{h as k,i as G}from"./chunk-CUDLAD7E.js";import"./chunk-UQV3BW2P.js";import{Bb as o,Cb as R,Ib as A,Jb as M,Lb as v,Oa as l,Pa as T,aa as q,cb as g,eb as h,ib as c,lc as D,mb as i,nb as r,ob as C,tb as N,ub as F}from"./chunk-ZE6Q3F45.js";var E=(e,m)=>({" is-valid":e,"is-invalid":m}),H=()=>["/login"];function J(e,m){if(e&1&&(i(0,"p",2),o(1),r()),e&2){let n=F();l(),R(n.resText)}}function K(e,m){if(e&1&&(i(0,"p",18),o(1),r()),e&2){let n=F();l(),R(n.resText)}}function Q(e,m){e&1&&(i(0,"p",19),o(1,"name is require"),r())}function W(e,m){e&1&&(i(0,"p",19),o(1,"name lenght must be at least 3"),r())}function X(e,m){e&1&&(i(0,"p",19),o(1,"name lenght must be at maximum 10"),r())}function Y(e,m){if(e&1&&(i(0,"div",6),g(1,Q,2,0,"p",19)(2,W,2,0)(3,X,2,0),r()),e&2){let n,a=F();l(),c(1,(n=a.registerForm.get("name"))!=null&&n.getError("required")?1:(n=a.registerForm.get("name"))!=null&&n.getError("minlength")?2:(n=a.registerForm.get("name"))!=null&&n.getError("maxlength")?3:-1)}}function Z(e,m){e&1&&(i(0,"p",19),o(1,"email is require"),r())}function ee(e,m){e&1&&(i(0,"p",19),o(1,"email foramt is not correct"),r())}function te(e,m){if(e&1&&(i(0,"div",6),g(1,Z,2,0,"p",19)(2,ee,2,0),r()),e&2){let n,a=F();l(),c(1,(n=a.registerForm.get("email"))!=null&&n.getError("required")?1:(n=a.registerForm.get("email"))!=null&&n.getError("email")?2:-1)}}function ne(e,m){e&1&&(i(0,"p",19),o(1,"password is require"),r())}function re(e,m){e&1&&(i(0,"p",19),o(1,"password must be at least 6"),r())}function ie(e,m){if(e&1&&(i(0,"div",6),g(1,ne,2,0,"p",19)(2,re,2,0),r()),e&2){let n,a=F();l(),c(1,(n=a.registerForm.get("password"))!=null&&n.getError("required")?1:(n=a.registerForm.get("password"))!=null&&n.getError("pattern")?2:-1)}}function le(e,m){e&1&&(i(0,"div",6)(1,"p",19),o(2,"Confirm password is not correct"),r()())}function oe(e,m){e&1&&(i(0,"p",19),o(1,"phone is require"),r())}function ae(e,m){e&1&&(i(0,"p",19),o(1,"phone must be at 11"),r())}function me(e,m){if(e&1&&(i(0,"div",6),g(1,oe,2,0,"p",19)(2,ae,2,0),r()),e&2){let n,a=F();l(),c(1,(n=a.registerForm.get("phone"))!=null&&n.getError("required")?1:(n=a.registerForm.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function se(e,m){e&1&&C(0,"i",16)}var he=(()=>{class e{constructor(n,a){this._AuthService=n,this._Router=a,this.loding=!1,this.registerForm=new j({name:new w(null,[_.required,_.minLength(3),_.maxLength(10)]),email:new w(null,[_.required,_.email]),password:new w(null,[_.required,_.pattern(/^\w{6,}$/)]),rePassword:new w(null),phone:new w(null,[_.required,_.pattern(/01[0125][0-9]{8}$/)])},this.confirmPassword)}confirmPassword(n){return n.get("password")?.value===n.get("rePassword")?.value?null:{missMatch:!0}}supmitData(){this.registerForm.valid?(this.loding=!0,this._AuthService.registerUser(this.registerForm.value).subscribe({next:n=>{this.loding=!1,this.resText=n.message,setInterval(()=>{this._Router.navigate(["/login"])},2e3)},error:n=>{n.error.message==="Account Already Exists"?this.resText=n.error.message:(n.error.message="fail")&&(this.resText=n.error.errors.msg),this.loding=!1},complete(){}})):(this.registerForm.setErrors({missMatch:!0}),this.registerForm.markAllAsTouched())}ngOnDestroy(){this.registerSub&&this.registerSub.unsubscribe()}static{this.\u0275fac=function(a){return new(a||e)(T(B),T(k))}}static{this.\u0275cmp=q({type:e,selectors:[["app-register"]],standalone:!0,features:[A],decls:36,vars:30,consts:[[1,"container","shadow","rounded","rounded-2","my-4","p-4","bg-main-light","register","mt-5"],[1,"fw-bolder","text-main","display-5"],[1,"alert","alert-success","my-2","text-center","w-25","mx-auto"],[3,"ngSubmit","formGroup"],["for","name",1,"mb-1"],["type","text","placeholder","ex:ahmed","id","name","formControlName","name",1,"form-control","py-2",3,"ngClass"],[1,"alert","alert-warning","my-2","p-2","f5-6","fw-bold","rounded","rounded-3"],["for","email",1,"mb-1"],["type","email","placeholder","ex:ahmed@gmail.com","id","email","formControlName","email",1,"form-control","py-2",3,"ngClass"],["for","password",1,"mb-1"],["type","password","id","password","formControlName","password",1,"form-control","py-2",3,"ngClass"],["for","rePassword",1,"mb-1"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control","py-2",3,"ngClass"],["for","phone",1,"mb-1"],["type","tel","placeholder","ex:01000000000","id","phone","formControlName","phone",1,"form-control","py-2",3,"ngClass"],[1,"btn-main","mt-2","w-25","mx-auto","d-block"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"text-center","my-3","text-main","user-select-none","forgetStyle",3,"routerLink"],[1,"alert","alert-danger","my-2","text-center","w-25","mx-auto"],[1,"m-0"]],template:function(a,t){if(a&1&&(i(0,"div",0)(1,"h1",1),o(2,"Regisher :"),r(),g(3,J,2,1,"p",2)(4,K,2,1),i(5,"form",3),N("ngSubmit",function(){return t.supmitData()}),i(6,"div")(7,"label",4),o(8,"name:"),r(),C(9,"input",5),g(10,Y,4,1,"div",6),r(),i(11,"div")(12,"label",7),o(13,"email:"),r(),C(14,"input",8),g(15,te,3,1,"div",6),r(),i(16,"div")(17,"label",9),o(18,"password:"),r(),C(19,"input",10),g(20,ie,3,1,"div",6),r(),i(21,"div")(22,"label",11),o(23,"rePassword:"),r(),C(24,"input",12),g(25,le,3,0,"div",6),r(),i(26,"div")(27,"label",13),o(28,"phone:"),r(),C(29,"input",14),g(30,me,3,1,"div",6),r(),i(31,"button",15),o(32,"register "),g(33,se,1,0,"i",16),r(),i(34,"p",17),o(35,"Already have an account ?"),r()()()),a&2){let s,y,u,x,d,S,f,P,p,b;l(3),c(3,t.resText==="success"?3:t.resText!="success"&&t.resText!=null?4:-1),l(2),h("formGroup",t.registerForm),l(4),h("ngClass",v(14,E,!((s=t.registerForm.get("name"))!=null&&s.errors)&&(((s=t.registerForm.get("name"))==null?null:s.touched)||((s=t.registerForm.get("name"))==null?null:s.dirty)),((s=t.registerForm.get("name"))==null?null:s.errors)&&(((s=t.registerForm.get("name"))==null?null:s.touched)||((s=t.registerForm.get("name"))==null?null:s.dirty)))),l(),c(10,(y=t.registerForm.get("name"))!=null&&y.errors&&((y=t.registerForm.get("name"))!=null&&y.touched)?10:-1),l(4),h("ngClass",v(17,E,!((u=t.registerForm.get("email"))!=null&&u.errors)&&(((u=t.registerForm.get("email"))==null?null:u.touched)||((u=t.registerForm.get("email"))==null?null:u.dirty)),((u=t.registerForm.get("email"))==null?null:u.errors)&&(((u=t.registerForm.get("email"))==null?null:u.touched)||((u=t.registerForm.get("email"))==null?null:u.dirty)))),l(),c(15,(x=t.registerForm.get("email"))!=null&&x.errors&&((x=t.registerForm.get("email"))!=null&&x.touched)?15:-1),l(4),h("ngClass",v(20,E,!((d=t.registerForm.get("password"))!=null&&d.errors)&&(((d=t.registerForm.get("password"))==null?null:d.touched)||((d=t.registerForm.get("password"))==null?null:d.dirty)),((d=t.registerForm.get("password"))==null?null:d.errors)&&(((d=t.registerForm.get("password"))==null?null:d.touched)||((d=t.registerForm.get("password"))==null?null:d.dirty)))),l(),c(20,(S=t.registerForm.get("password"))!=null&&S.errors&&((S=t.registerForm.get("password"))!=null&&S.touched)?20:-1),l(4),h("ngClass",v(23,E,!t.registerForm.getError("missMatch")&&(((f=t.registerForm.get("rePassword"))==null?null:f.touched)||((f=t.registerForm.get("rePassword"))==null?null:f.dirty)),t.registerForm.getError("missMatch")&&(((f=t.registerForm.get("rePassword"))==null?null:f.touched)||((f=t.registerForm.get("rePassword"))==null?null:f.dirty)))),l(),c(25,t.registerForm.getError("missMatch")&&((P=t.registerForm.get("rePassword"))!=null&&P.touched)?25:-1),l(4),h("ngClass",v(26,E,!((p=t.registerForm.get("phone"))!=null&&p.errors)&&(((p=t.registerForm.get("phone"))==null?null:p.touched)||((p=t.registerForm.get("phone"))==null?null:p.dirty)),((p=t.registerForm.get("phone"))==null?null:p.errors)&&(((p=t.registerForm.get("phone"))==null?null:p.touched)||((p=t.registerForm.get("phone"))==null?null:p.dirty)))),l(),c(30,(b=t.registerForm.get("phone"))!=null&&b.errors&&((b=t.registerForm.get("phone"))!=null&&b.touched)?30:-1),l(3),c(33,t.loding?33:-1),l(),h("routerLink",M(29,H))}},dependencies:[z,$,I,L,V,O,U,D,G]})}}return e})();export{he as RegisterComponent};
