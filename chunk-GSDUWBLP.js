import{a as x}from"./chunk-CF3AE6RC.js";import{a as C}from"./chunk-UQV3BW2P.js";import{Ab as r,Bb as w,Cb as l,Hb as E,Ib as P,Ja as y,Na as a,T as b,Y as u,Z as g,aa as S,bb as v,db as _,hb as h,ib as s,jb as p,kb as f,kc as M,lb as e,mb as i,nb as c,tb as O,uc as I}from"./chunk-BYE5LYHS.js";var k=(()=>{class n{constructor(t,o){this._HttpClient=t,this._CartService=o}getUserOrders(){return this._HttpClient.get(`${C.baseUrl}/api/v1/orders/user/${this._CartService.cartOwnerId}`)}getAllOrders(){return this._HttpClient.get(`${C.baseUrl}/api/v1/orders`)}static{this.\u0275fac=function(o){return new(o||n)(u(I),u(x))}}static{this.\u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var j=()=>[1,2,3,4,5];function T(n,d){n&1&&r(0,"\u2714")}function $(n,d){n&1&&r(0,"\u2716")}function U(n,d){n&1&&c(0,"i",20)}function D(n,d){n&1&&c(0,"i",21)}function Y(n,d){if(n&1&&(e(0,"div",15)(1,"div",16)(2,"div",17)(3,"h5",18),r(4),i(),e(5,"div",19),p(6,U,1,0,"i",20,s),v(8,D,1,0,"i",21),e(9,"span",22),r(10),i()(),e(11,"p",23),r(12),i(),e(13,"span",24),r(14),i()()(),e(15,"div",25),c(16,"img",26),i()()),n&2){let t=d.$implicit;a(4),l(" ",t.product.title," "),a(2),f(P(6,j).slice(0,t.product.ratingsAverage)),a(2),h(8,t.product.ratingsAverage%1!==0?8:-1),a(2),l("(",t.product.ratingsQuantity,")"),a(2),l("",t.price," EGP"),a(2),l("count: ",t.count,""),a(2),_("src",t.product.imageCover,y)}}function H(n,d){if(n&1&&(e(0,"div",1)(1,"h2",2),r(2),i(),e(3,"h1",3),r(4),i(),e(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),r(9,"\u2714"),i(),e(10,"div",8)(11,"h5"),r(12,"Ordered"),i(),e(13,"p",9),r(14,"Your order has been placed successfully."),i()()(),e(15,"div",6)(16,"div",7),r(17,"\u2714"),i(),e(18,"div",8)(19,"h5"),r(20,"Confirmed"),i(),e(21,"p",9),r(22,"Your order has been confirmed."),i()()(),e(23,"div",10)(24,"div",7),c(25,"i",11),i(),e(26,"div",8)(27,"h5"),r(28,"Out for Delivery"),i(),e(29,"p",9),r(30,"Your order is on its way."),i()()(),e(31,"div",12)(32,"div",7),r(33,"\u2716"),i(),e(34,"div",8)(35,"h5"),r(36,"Delivered"),i(),e(37,"p",9),r(38,"Delivery has not been completed yet."),i()()(),e(39,"div",13)(40,"div",7),v(41,T,1,0)(42,$,1,0),i(),e(43,"div",8)(44,"h5"),r(45,"Paid"),i(),e(46,"p",9),r(47,"Payment has not been received yet."),i()()()(),e(48,"div",14),p(49,Y,17,7,"div",15,s),i()()()),n&2){let t=d.$implicit,o=d.$index,m=O();a(2),w(o+1),a(2),l("Orders # ",t.id," "),a(35),_("ngClass",m.iconStatePaid[o]?"completed":"pending"),a(2),h(41,m.iconStatePaid[o]?41:42),a(8),f(t.cartItems)}}var K=(()=>{class n{constructor(){this._OrdersService=g(k),this._CartService=g(x),this.orders=[],this.iconStatePaid=[]}ngOnInit(){this._CartService.getLoggedUserCart().subscribe({next:t=>{this.cartOwner=t}}),this._OrdersService.getUserOrders().subscribe({next:t=>{console.log(t),this.orders=t;for(let o=0;o<t.length;o++)this.iconStatePaid.push(t[o].isPaid);return console.log(this.iconStatePaid),t},error:t=>{console.log(t)}})}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=S({type:n,selectors:[["app-orders"]],standalone:!0,features:[E],decls:3,vars:0,consts:[[1,"my-4"],[1,"container-fluid","container-md","py-5","bg-main-light","px-5","rounded","rounded-4","my-5","border","border-2"],[1,"text-center","fw-bolder","w-fit","d-block","mx-auto","rounded","rounded-3","px-3","py-2","bg-main","text-white"],[1,"text-center","display-6","my-4","fw-bold","text-main"],[1,"row"],[1,"timeline","col-12","col-md-6","d-flex","justify-content-start","align-items-center","align-content-center","flex-wrap"],[1,"timeline-step","completed","w-100"],[1,"timeline-circle"],[1,"timeline-text"],[1,"text-muted","small"],[1,"timeline-step","in-progress","w-100"],[1,"fas","fa-truck"],[1,"timeline-step","pending","w-100"],[1,"timeline-step","w-100",3,"ngClass"],[1,"col-12","col-md-6"],[1,"row","my-2","border","border-2","border-secondary","p-2","rounded","rounded-4","cardOrder"],[1,"col-12","col-sm-9","p-0","d-flex","justify-content-center","align-items-center"],[1,"card-body","text-center","text-md-start"],[1,"card-title","fw-bold","fs-6"],[1,"text-warning","small"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star-half-stroke"],[1,"text-muted"],[1,"card-text","text-dark","fs-5","fw-bold","mb-0"],[1,"fs-5","fw-bolder"],[1,"col-12","col-sm-3","p-0"],["height","100px","alt","",1,"imgS","d-block","mx-auto","rounded","rounded-2","border","border-2","border-secondary",3,"src"]],template:function(o,m){o&1&&(e(0,"section",0),p(1,H,51,4,"div",1,s),i()),o&2&&(a(),f(m.orders))},dependencies:[M],styles:[".timeline[_ngcontent-%COMP%]{padding:20px 0}.timeline-step[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:30px}.timeline-circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;color:#fff;margin-right:20px;box-shadow:0 4px 6px #0000001a}.timeline-text[_ngcontent-%COMP%]{flex-grow:1;border-left:4px solid #ddd;padding-left:20px;width:fit-content}.completed[_ngcontent-%COMP%]   .timeline-circle[_ngcontent-%COMP%]{background-color:#198754}.in-progress[_ngcontent-%COMP%]   .timeline-circle[_ngcontent-%COMP%]{background-color:#ffc107;animation:_ngcontent-%COMP%_bounce 1.5s infinite}.pending[_ngcontent-%COMP%]   .timeline-circle[_ngcontent-%COMP%]{background-color:#dc3545}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.imgS[_ngcontent-%COMP%]{object-fit:contain;display:inline-block;margin:0 auto;height:100px}.w-fit[_ngcontent-%COMP%]{width:fit-content}"]})}}return n})();export{K as OrdersComponent};
